import{C as c,i as m,o as u,b as i,w as _,d as g,y as f,H as w,p as b,u as o,x as V,F as y,E as x,D as v}from"./index-BB21_nNU.js";import{_ as p,u as L}from"./IInput-CO5ktGSb.js";import{_ as S}from"./IButton-C3mTZ34n.js";const F={__name:"LoginForm",props:{isLoading:{default:!1,type:Boolean}},emits:["submit"],setup(d,{emit:n}){const l=d,s=n,a=c({email:"",password:""});return(r,e)=>(u(),m("form",{onSubmit:e[2]||(e[2]=f(t=>s("submit",w(a)),["prevent"]))},[i(p,{class:"mb-4",label:"Електронна пошта",type:"email",placeholder:"email@gmail.com",modelValue:a.email,"onUpdate:modelValue":e[0]||(e[0]=t=>a.email=t)},null,8,["modelValue"]),i(p,{label:"Пароль",type:"password",modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=t=>a.password=t)},null,8,["modelValue"]),i(S,{class:"mt-30 w-full",variant:"gradient",type:"submit","is-loading":l.isLoading},{default:_(()=>e[3]||(e[3]=[g(" Увійти ")])),_:1,__:[3]},8,["is-loading"])],32))}},U={key:0,class:"text-red-500"},C={__name:"LoginView",setup(d){const n=v(),{isLoading:l,error:s,mutation:a}=L({mutationFunction:async r=>{await x.loginUser(r)},onSuccess:()=>{n.replace("/map")}});return(r,e)=>(u(),m(y,null,[i(F,{onSubmit:o(a),"is-loading":o(l)},null,8,["onSubmit","is-loading"]),o(s)?(u(),m("div",U,V(o(s).message),1)):b("",!0)],64))}};export{C as default};
